<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"    
    xmlns:r="sap.suite.ui.microchart"
	xmlns:l="sap.ui.layout" 
	xmlns:m="sap.m"	
    xmlns:ux="sap.uxap">
    <ux:ObjectPageLayout id="ObjectPageLayoutPedido" showTitleInHeaderContent="true">
		<ux:headerTitle>
			<ux:ObjectPageHeader id="headerPedidoDetail"
							  objectTitle="Datos de Cabecera"
							  showTitleSelector="false"
							  showMarkers="false"
							  markFavorite="true"
							  markFlagged="true"
							  markChanges="false"
							  markChangesPress="handleMarkChangesPress"
							  objectSubtitle="{/PedidoSeleccionado/SalesOrder}"
							  isObjectTitleAlwaysVisible="false"
							  isObjectSubtitleAlwaysVisible="false"
							  showPlaceholder="false">		
			</ux:ObjectPageHeader>
		</ux:headerTitle>
		<ux:headerContent>
			<l:VerticalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelPosicionPedido" text="Posicion de Pedido: " class="labelHeader"/>
					<Text text="{/PedidoSeleccionado/SalesOrderItem}" id="textPosicionPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelMaterialPedido" text="Material:" class="labelHeader"/>
					<Text text="{/PedidoSeleccionado/Material}" id="textMaterialPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelTextoPosicionPedido" text="Descripcion de Material:" class="labelHeader"/>
					<Text text="{/PedidoSeleccionado/SalesOrderItemText}" id="textTextoPosicionPedido" />
				</l:HorizontalLayout>
				
				<l:HorizontalLayout>					
					<m:Label id="labelCantidadPedido" text="Cantidad:" class="labelHeader"/>
					<Text text="{/PedidoSeleccionado/TargetQuantity}" id="textCantidadPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelUnidadPedido" text="Unidad:" class="labelHeader"/>
					<Text text="{/PedidoSeleccionado/TargetQuantityUnit}" id="textUnidadPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelImporteNetoPedidoDet" text="Importe Neto: " class="labelHeader"/>
					<Text text="{path:'/PedidoSeleccionado/NetAmount' , formatter:'.formatter.removeZeros'}" id="textImporteNetoPedido" />
				</l:HorizontalLayout>
			</l:VerticalLayout>			
			
		</ux:headerContent>
		<ux:sections>
            <ux:ObjectPageSection id="pageSectionEntregasPedido" title="Entregas">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionEntregas">
						<ux:blocks>
						<Table
                            id="tableEntregaPedido"
                            inset="false"
                            items="{path: '/PedidoSeleccionado/Entregas'}"
							noDataText="Sin entregas"
					    >
						<columns>
							<Column id="columnEntrega" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textEntrega" text="Entrega"/>
							</Column>
							<Column id="columnPosicion" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textPosicion" text="Posicion"/>									
							</Column>
							<Column id="columnFechaEntrega"  minScreenWidth="Tablet" demandPopin="true">
								<Text id="textFechaCreacionEntrega" text="Fecha"/>	
							</Column>
							<Column id="columnMaterial" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textMaterial" text="Material"/>								
							</Column>
							<Column id="columnTextoPosicion" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textTextoPosicion" text="Posicion"/>								
							</Column>
							<Column id="columnCantidadEntregada" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textCantidadEntregada" text="Cantidad entregada"/>								
							</Column>
							<Column id="columnUnidad" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textUnidad" text="Unidad"/>								
							</Column>									
						</columns>

						<items>
							<ColumnListItem id="columnPosItemEntrega" vAlign="Middle">
								<cells>								
                                    <Text id="rowPosicionEntrega" text="{OutboundDelivery}" />
                                    <Text id="rowCodEntrega" text="{OutboundDeliveryItem}" />
                                    <Text id="rowDescEntrega" text="{CreationDate}" />                                                                      							
									<Text id="rowCantEntrega" text="{Material}" />
									<Text id="rowPosicionTextoEntrega" text="{DeliveryDocumentItemText}" />
									<Text id="rowCantidadEntrega" text="{ActualDeliveryQuantity}" />
									<Text id="rowCantidadEntregada" text="{ActualDeliveryQuantityInBaseUnit}" />
									<Text id="rowUnidadEntrega" text="{BaseUnit}" />
								</cells>
							</ColumnListItem>
						</items>
						</Table>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>
            <ux:ObjectPageSection id="pageSectionFacturas" title="Facturas">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionFacturas">
						<ux:blocks>
							<Table
                            id="tableFacturaPedido"
                            inset="false"
                            items="{path: '/FacturaSeleccionada'}"
							noDataText="Sin facturas">
						<columns>
							<Column id="columnDocFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textDocFactura" text="Doc Factura"/>
							</Column>
							<Column id="columnMonedaTablaFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textMonedaTablaFactura" text="Moneda"/>									
							</Column>
							<Column id="columnFechaTablaFactura"  minScreenWidth="Tablet" demandPopin="true">
								<Text id="textFechaTablaFactura" text="Fecha"/>	
							</Column>
							<Column id="columnValorNetoTablaFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textValorNetoTablaFactura" text="Valor Neto"/>								
							</Column>
							<Column id="columnNReferencia" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textNReferencia" text="Numero de Referencia"/>								
							</Column>
																	
						</columns>

						<items>
							<ColumnListItem id="columnPosItemFactura" vAlign="Middle">
								<cells>
									<Text id="rowDocFactura" text="{BillingDocument}" />
									<Text id="rowCondDePagoFactura" text="{CustomerPaymentTerms}" />
									<Text id="rowMonedaFactura" text="{TransactionCurrency}" />								
                                    <Text id="rowFechaFactura" text="{path:'CreationDate' , formatter:'.formatter.stringDate'}" />
                                    <Text id="rowImporteFactura" text="{path:'TotalNetAmount' , formatter:'.formatter.removeZeros'}" />
									<Text id="rowImporteImpuestoFactura" text="{path:'TotalTaxAmount' , formatter:'.formatter.removeZeros'}" />
									<Link id="linkFactura" text="{DocuemntReferenceID}" press="handleLinkFactura" />                                    																
								</cells>
							</ColumnListItem>
						</items>
						</Table>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>
			<ux:ObjectPageSection id="pageSectionDocFlow" title="Flujo de Documentos">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionDocFlow">
						<ux:blocks>
							<Text text="ejemplo"/>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>	
		</ux:sections>
	</ux:ObjectPageLayout>
</core:FragmentDefinition>