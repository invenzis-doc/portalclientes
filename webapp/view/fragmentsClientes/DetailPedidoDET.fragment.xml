<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"    
    xmlns:r="sap.suite.ui.microchart"
	xmlns:l="sap.ui.layout" 
	xmlns:m="sap.m"	
    xmlns:ux="sap.uxap">
    <ux:ObjectPageLayout id="ObjectPageLayoutPedido" showTitleInHeaderContent="true">
		<ux:headerTitle>
			<ux:ObjectPageHeader id="headerPedidoDetail"
							  objectTitle="Datos de Cabecera"
							  showTitleSelector="false"
							  showMarkers="false"
							  markFavorite="true"
							  markFlagged="true"
							  markChanges="false"
							  markChangesPress="handleMarkChangesPress"
							  objectSubtitle="{/PedidoSeleccionado/Ebeln}"
							  isObjectTitleAlwaysVisible="false"
							  isObjectSubtitleAlwaysVisible="false"
							  showPlaceholder="false">		
			</ux:ObjectPageHeader>
		</ux:headerTitle>
		<ux:headerContent>
			<l:VerticalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelPosicionPedido" text="Pedido: " class="labelHeader"/>
					<Text text="Posicion" id="textPosicionPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelMaterialPedido" text="Material:" class="labelHeader"/>
					<Text text="Material" id="textMaterialPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelTextoPosicionPedido" text="Posicion:" class="labelHeader"/>
					<Text text="Texto breve posicion de pedido de cliente" id="textTextoPosicionPedido" />
				</l:HorizontalLayout>
				
				<l:HorizontalLayout>					
					<m:Label id="labelCantidadPedido" text="Cantidad:" class="labelHeader"/>
					<Text text="Cantidad" id="textCantidadPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelUnidadPedido" text="Unidad:" class="labelHeader"/>
					<Text text="Unidad" id="textUnidadPedido" />
				</l:HorizontalLayout>

				<l:HorizontalLayout>					
					<m:Label id="labelValorNetoPedido" text="Valor Neto: " class="labelHeader"/>
					<Text text="Valor Neto" id="textValorNetoPedido" />
				</l:HorizontalLayout>
			</l:VerticalLayout>			
			
		</ux:headerContent>
		<ux:sections>
            <ux:ObjectPageSection id="pageSectionEntregasPedido" title="Entregas">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionEntregas">
						<ux:blocks>
						<Table
                            id="tableEntregaPedido"
                            inset="false"
                            items="{path: '/PedidoSeleccionado/EntregaSet/results'}"
							noDataText="Sin entregas"
					    >
						<columns>
							<Column id="columnEntrega" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textEntrega" text="Entrega"/>
							</Column>
							<Column id="columnPosicion" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textPosicion" text="Posicion"/>									
							</Column>
							<Column id="columnFechaEntrega"  minScreenWidth="Tablet" demandPopin="true">
								<Text id="textFechaCreacionEntrega" text="Fecha"/>	
							</Column>
							<Column id="columnMaterial" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textMaterial" text="Material"/>								
							</Column>
							<Column id="columnTextoPosicion" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textTextoPosicion" text="Posicion"/>								
							</Column>
							<Column id="columnCantidadEntregada" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textCantidadEntregada" text="Cantidad entregada"/>								
							</Column>
							<Column id="columnUnidad" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textUnidad" text="Unidad"/>								
							</Column>									
						</columns>

						<items>
							<ColumnListItem id="columnPosItemEntrega" vAlign="Middle">
								<cells>								
                                    <Text id="rowPosicionEntrega" text="{Ebelp}" />
                                    <Text id="rowCodEntrega" text="{Matnr}" />
                                    <Text id="rowDescEntrega" text="{Txz01}" />                                                                      							
									<Text id="rowCantEntrega" text="{Menge}" />
									<Text id="rowTotalEntrega" text="{path:'Dmbtr' , formatter:'.formatter.removeZeros'}" />
									<Text id="rowMonedaEntrega" text="{Waers}" />
								</cells>
							</ColumnListItem>
						</items>
						</Table>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>
            <ux:ObjectPageSection id="pageSectionFacturas" title="Facturas">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionFacturas">
						<ux:blocks>
							<Table
                            id="tableFacturaPedido"
                            inset="false"
                            items="{path: '/FacturaSeleccionada/DetalleSet'}"
							noDataText="Sin posiciones">
						<columns>
							<Column id="columnDocFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textDocFactura" text="Doc Factura"/>
							</Column>
							<Column id="columnMonedaTablaFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textMonedaTablaFactura" text="Moneda"/>									
							</Column>
							<Column id="columnFechaTablaFactura"  minScreenWidth="Tablet" demandPopin="true">
								<Text id="textFechaTablaFactura" text="Fecha"/>	
							</Column>
							<Column id="columnValorNetoTablaFactura" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textValorNetoTablaFactura" text="Valor Neto"/>								
							</Column>
							<Column id="columnNReferencia" minScreenWidth="Tablet" demandPopin="true">
								<Text id="textNReferencia" text="Numero de Referencia"/>								
							</Column>
																	
						</columns>

						<items>
							<ColumnListItem id="columnPosItemFactura" vAlign="Middle">
								<cells>								
                                    <Link id="linkFactura" text="{Xblnr}" press="handleLinkFactura" />
                                    <Text id="rowFechaFactura" text="{path:'Budat' , formatter:'.formatter.stringDate'}" />
                                    <Text id="rowImporteFactura" text="{path:'Rmwwr' , formatter:'.formatter.removeZeros'}" />
                                    <Text id="rowMonedaFactura" text="{Waers}" />                                    																
								</cells>
							</ColumnListItem>
						</items>
						</Table>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>
			<ux:ObjectPageSection id="pageSectionDocFlow" title="Flujo de Documentos">
				<ux:subSections>
					<ux:ObjectPageSubSection id="pageSubsectionDocFlow">
						<ux:blocks>
							<Text text="ejemplo"/>
						</ux:blocks>
					</ux:ObjectPageSubSection>
				</ux:subSections>
			</ux:ObjectPageSection>	
		</ux:sections>
	</ux:ObjectPageLayout>
</core:FragmentDefinition>